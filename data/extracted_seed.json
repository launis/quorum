{
  "components": [
    {
      "id": "BARS_MATRIX",
      "type": "rubric",
      "content": "OSA 4: KOGNITIIVINEN ARVIOINTIMATRIISI (BARS-ASTEIKKO)\nKÄSKE: Tämä matriisi on arvioinnin NORMATIIVINEN PERUSTA. Sinun TÄYTYY käyttää näitä kriteerejä pisteytyksessä (VAIHE 8).\n\nTaulukko 1. Kognitiivinen Arviointimatriisi (4-portainen BARS-asteikko)\n\nKRITEERI 1: ANALYYSI JA PROSESSIN TEHOKKUUS (Bloom: Analyze)\nTASO 4 (Erinomainen / Strateginen):\n- Prosessi on strateginen ja ennakoiva. Käyttäjä on purkanut ongelman osiin ja ohjannut tekoälyä ennaltaehkäisevästi (esim. roolilla, analyysipakolla, rajoitteilla) minimoiden turhat iteraatiot.\n- TAI Prosessi osoittaa poikkeuksellista strategista ketteryyttä. Käyttäjä on tehnyt prosessin aikana merkittävän oivalluksen, joka on perustavanlaatuisesti ja todistettavasti muuttanut tehtävän suuntaa tai laatua. Reflektio perustelee tämän käännekohdan strategisen merkityksen.\nTASO 3 (Hyvä / Omaperäinen):\n- Prosessi on tehokas ja systemaattinen. Käyttäjä on tunnistanut ongelman ja ohjannut tekoälyä reaktiivisesti mutta johdonmukaisesti (esim. pyytämällä parannuksia). Reflektio analysoi käännekohdat.\nTASO 2 (Kohtalainen / Reaktiivinen):\n- Prosessi on hajanainen tai puhtaasti reaktiivinen. Käyttäjä on reagoinut tekoälyn vastauksiin, mutta selkeä analyyttinen strategia puuttuu tai on heikko. Iteraatioita voi olla useita ilman merkittävää laadullista parannusta. Reflektio on pääosin kuvaileva.\nTASO 1 (Heikko / Puutteellinen):\n- Prosessi on tehoton ja epälooginen. Käyttäjä ei ole kyennyt ohjaamaan tekoälyä kohti tavoitetta. Reflektio on puutteellinen tai puuttuu kokonaan.\n\nKRITEERI 2: ARVIOINTI JA ARGUMENTAATIO (Bloom: Evaluate; Toulmin)\nTASO 4 (Erinomainen / Strateginen):\n- Suoritus osoittaa poikkeuksellista arviointikykyä. Käyttäjä on haastanut tekoälyn päättelyä (esim. eettisesti tai loogisesti).\n- TAI (Asiantuntijan Hyväksyntä): Käyttäjä osoittaa poikkeuksellista arviointikykyä perustelemalla reflektiossa vankasti, miksi lyhyt prosessi ja tekoälyn tuotoksen suora hyväksyntä oli strategisesti optimaalinen valinta.\n- Molemmissa tapauksissa Toulmin: Reflektio sisältää vankan, itsekriittisen argumentin, joka on täysin virheetön.\nTASO 3 (Hyvä / Omaperäinen):\n- Suoritus osoittaa korkeaa arviointikykyä. Käyttäjä on korjannut tekoälyn tuotoksia.\n- Toulmin: Reflektio sisältää vahvan argumentin: Selkeä Väite, Vankat Perusteet (viittaukset Keskusteluhistoriaan) ja Eksplisiittinen Oikeutus.\nTASO 2 (Kohtalainen / Reaktiivinen):\n- Suoritus osoittaa perustason arviointikykyä. Käyttäjä on tehnyt pieniä korjauksia.\n- Toulmin: Reflektio sisältää argumentin aihion: Väite on esitetty, mutta Perusteet ovat yleisiä ja/tai Oikeutus on implisiittinen tai heikko.\nTASO 1 (Heikko / Puutteellinen):\n- Suoritus ei osoita arviointikykyä. Tekoälyn tuotoksia on käytetty sellaisenaan.\n- Toulmin: Reflektio ei sisällä tunnistettavaa, pätevää argumenttia ja/tai se on kokonaisuudessaan faktuaalisesti virheellinen tai harhaanjohtava.\n\nKRITEERI 3: SYNTEESI JA LUOVUUS (Bloom: Create)\nTASO 4 (Erinomainen / Strateginen):\n- Lopputuote osoittaa strategista synteesiä. Käyttäjä on luonut kokonaan uutta, omaperäistä lisäarvoa, jota tekoäly ei ehdottanut (esim. lisännyt uuden vastuullisuusosion). Reflektio perustelee tämän strategisen lisäarvon.\nTASO 3 (Hyvä / Omaperäinen):\n- Lopputuote on omaperäinen synteesi. Käyttäjä on parannellut ja viimeistellyt tekoälyn tuotosta omalla perustellulla panoksellaan (esim. lisännyt hyötyjä, vaihtanut otsikon). Reflektio perustelee muutokset.\nTASO 2 (Kohtalainen / Reaktiivinen):\n- Lopputuote on pääosin kooste tekoälyn tuottamasta materiaalista. Muutokset ovat kielellistä viimeistelyä tai pieniä lisäyksiä. Reflektio kuvaa tehdyt muutokset pinnallisesti.\nTASO 1 (Heikko / Puutteellinen):\n- Lopputuote on suora kopio tekoälyn tuottamasta materiaalista ilman omaa panosta. Reflektio on puutteellinen tai puuttuu.",
      "name": "BARS Matrix",
      "citation": "Bloom 1956; Toulmin 2003",
      "citation_full": "Bloom, B. S. (1956). Taxonomy of Educational Objectives; Toulmin, S. E. (2003). The Uses of Argument."
    },
    {
      "id": "MANDATE_1",
      "type": "mandate",
      "content": "Mandaatti 1 (Erimielisyyden Ylläpidon Mandaatti, JEM): Agentin on vastustettava \"konsensuksen tyranniaa\" ylläpitämällä perusteltua erimielisyyttä. Erimielisyyttä ei saa pakottaa yksimielisyydeksi.",
      "name": "Erimielisyyden Ylläpito (JEM)",
      "citation": "Wynn, Satija & Hadfield 2025",
      "citation_full": "Google DeepMind. (2025a). Inference-Time Compute."
    },
    {
      "id": "MANDATE_2",
      "type": "mandate",
      "content": "Mandaatti 2 (Vinoumien Aktiivinen Torjunta): Agenttien on aktiivisesti tunnistettava ja torjuttava yleisiä kognitiivisia vinoumia (esim. auktoriteetti-, monisanaisuus- ja vahvistusvinouma).",
      "name": "Vinoumien Aktiivinen Torjunta",
      "citation": "Wang ym. 2023; Kahneman 2011",
      "citation_full": "Borsboom, D. et al. (2004). The concept of validity."
    },
    {
      "id": "MANDATE_3",
      "type": "mandate",
      "content": "Mandaatti 3 (Metodologisen Nöyryyden Mandaatti): Tunnista Kognitiivisen Arviointimatriisin luontainen jäykkyys. Etsi aktiivisesti todisteita matriisin kapeat määritelmät ylittävästä Mestaruudesta.",
      "name": "Metodologinen Nöyryys",
      "citation": "Dreyfus & Dreyfus 1980",
      "citation_full": "Popper (1934); Dreyfus (1980)."
    },
    {
      "id": "MANDATE_4",
      "type": "mandate",
      "content": "Mandaatti 4 (Performatiivisuuden Tunnistus): Etsi epäaitoja narratiiveja ja merkkejä arviointijärjestelmän \"pelaamisesta\" (Goodhartin laki).",
      "name": "Performatiivisuuden Tunnistus",
      "citation": "Stumborg ym. 2022",
      "citation_full": "Strathern, M. (1997). Improving ratings."
    },
    {
      "id": "RULE_1",
      "type": "rule",
      "content": "Sääntö 1 (Luottamuksen Kehä): Vain Vartija-agentin hyväksymä ja merkitsemä data on tarkistettua. Käsittele ainoastaan tätä tarkistettua dataa.",
      "name": "Luottamuksen Kehä",
      "citation": "Denning & Denning 1977",
      "citation_full": "Liu, Y. et al. (2023). Jailbreaking ChatGPT."
    },
    {
      "id": "RULE_2",
      "type": "rule",
      "content": "Sääntö 2 (Toimivallan Rajaaminen): Rajoitteet kieltävät agentteja hyödyntämästä määrittelemättömiä ulkoisia työkaluja tai API-rajapintoja.",
      "name": "Toimivallan Rajaaminen",
      "citation": "OWASP LLM06:2025",
      "citation_full": "OWASP Foundation. (2025). Excessive Agency."
    },
    {
      "id": "RULE_3",
      "type": "rule",
      "content": "Sääntö 3 (Esteettisen Vinouman Kielto): Älä anna suhteetonta painoarvoa dokumenttien ulkoasulle.",
      "name": "Esteettisen Vinouman Kielto",
      "citation": "Reinecke & Gajos 2014",
      "citation_full": "OWASP Foundation. (2025). Improper Output Handling."
    },
    {
      "id": "RULE_4",
      "type": "rule",
      "content": "Sääntö 4 (Epäilyttävä Täydellisyys): Jos suoritus saa maksimaaliset pisteet kaikilla mittareilla ilman prosessissa näkyvää kitkaa tai iterointia, se on liputettava \"Epäilyttävän Täydelliseksi\".",
      "name": "Epäilyttävä Täydellisyys",
      "citation": "Cullen 2020",
      "citation_full": "Wei, J. et al. (2022). Chain-of-Thought Prompting."
    },
    {
      "id": "RULE_5",
      "type": "rule",
      "content": "Sääntö 5 (Pakollinen Haurauden Raportointi): Järjestelmän on pakko kirjata kehotepohjaisen kontrollin hauraus Systeemiseksi Epävarmuudeksi jokaiseen raporttiin.",
      "name": "Pakollinen Haurauden Raportointi",
      "citation": "Adadi & Berrada 2018",
      "citation_full": "OWASP Foundation. (2025). Improper Output Handling."
    },
    {
      "id": "RULE_6",
      "type": "rule",
      "content": "Sääntö 6 (Falsifioinnin Etusija): Faktat voittavat aina tulkinnat. Faktavirhe tai eettinen rikkomus syrjäyttää positiivisen tulkinnan.",
      "name": "Falsifioinnin Etusija",
      "citation": "Popper 1934",
      "citation_full": "Dreyfus & Dreyfus (1980)."
    },
    {
      "id": "HEADER_MANDATES",
      "content": "### MANDAATIT (MANDATES)",
      "type": "header",
      "name": "Header: Mandates"
    },
    {
      "id": "HEADER_RULES",
      "content": "### SÄÄNNÖT (RULES)",
      "type": "header",
      "name": "Header: Rules"
    },
    {
      "id": "HEADER_INSTRUCTIONS",
      "content": "### OHJEET (INSTRUCTIONS)",
      "type": "header",
      "name": "Header: Instructions"
    },
    {
      "id": "PROTOCOL_1",
      "type": "protocol",
      "name": "Negatiivinen Lokikirjaus",
      "content": "Protokolla 1 (Negatiivinen Lokikirjaus): Kirjaa puuttuva tekninen suojaus (esim. upotusten eheyden tarkistus) eksplisiittiseksi riskiksi.",
      "citation": "OWASP Foundation 2025e"
    },
    {
      "id": "PROTOCOL_2",
      "type": "protocol",
      "name": "Kolmivaiheinen Validointi",
      "content": "Protokolla 2 (Kolmivaiheinen Validointi): 1. Rakenteellinen eheys (JSON). 2. Semanttinen eheys (Tarkistussumma). 3. Rakenteellinen skeptisyys (Anomaliat).",
      "citation": "OWASP Foundation s.a."
    },
    {
      "id": "PROTOCOL_3",
      "type": "protocol",
      "name": "RFI-Protokolla",
      "content": "Protokolla 3 (RFI-Protokolla): Suorita kohdennettu uusintahaku (Request for Information). Käytä kyselynlaajennusta ja HyDE-tekniikkaa.",
      "citation": "Trivedi ym. 2024"
    },
    {
      "id": "PROTOCOL_4",
      "type": "protocol",
      "name": "Vastuun Siirtäminen",
      "content": "Protokolla 4 (Vastuun Siirtäminen): Siirrä kriittiset vastuut (kuten heterogeenisyyden varmistaminen) ihmisvalvojalle (HITL) jos luotettavuus on EHDOLLEINEN.",
      "citation": "Cemri ym. 2025"
    },
    {
      "id": "METHOD_1",
      "type": "method",
      "name": "Adversariaalinen Simulaatio",
      "content": "Menetelmä 1 (Adversariaalinen Simulaatio): Suorita uhka-analyysi omaksumalla ensin \"Punaisen Tiimin\" (Hyökkääjä) ja sitten \"Sinisen Tiimin\" (Puolustaja) rooli.",
      "citation": "Perez ym. 2022a"
    },
    {
      "id": "METHOD_2",
      "type": "method",
      "name": "Ristiinvalidoiva Päättelyketju",
      "content": "Menetelmä 2 (Ristiinvalidoiva Päättelyketju): Validoi edeltävän agentin päättelyn looginen johdonmukaisuus ja ankkurointi todistusaineistoon ennen oman prosessin aloitusta.",
      "citation": "Ye ym. 2025"
    },
    {
      "id": "METHOD_3",
      "type": "method",
      "name": "Kysymyksiin ohjaava raportointi",
      "content": "Menetelmä 3 (Kysymyksiin ohjaava raportointi): Generoi \"Kriittisiä Auditointikysymyksiä\", joihin ihmisvalvojan on vastattava.",
      "citation": "Parasuraman & Riley 1997"
    },
    {
      "id": "PRINCIPLE_1",
      "type": "principle",
      "name": "Falsifiointiperiaate",
      "content": "Periaate 1 (Falsifiointiperiaate): Tieteellinen totuus selvitetään yrittämällä aktiivisesti kumota esitetyt väitteet.",
      "citation": "Popper 1934"
    },
    {
      "id": "REQUIREMENT_1",
      "type": "requirement",
      "name": "Heterogeenisyyden Välttämättömyys",
      "content": "Vaatimus 1 (Heterogeenisyyden Välttämättömyys): Kriittiset vaiheet (Falsifiointi) tulisi ajaa eri tekoälymallilla kuin aiemmat vaiheet.",
      "citation": "Ye ym. 2025"
    },
    {
      "id": "HEURISTIC_1",
      "type": "heuristic",
      "name": "Temporaalinen auditointi",
      "content": "Heuristiikka 1 (Temporaalinen auditointi): Tarkista aikajana: ilmestyikö oivallus (syy) keskusteluhistoriaan ennen tuloksen paranemista (seuraus)?",
      "citation": "Hume 1739"
    },
    {
      "id": "HEURISTIC_2",
      "type": "heuristic",
      "name": "Kontrafaktuaalinen stressitesti",
      "content": "Heuristiikka 2 (Kontrafaktuaalinen stressitesti): Kysy: \"Jos käyttäjä EI olisi tehnyt tätä oivallusta, olisiko tulos silti ollut sama?\"",
      "citation": "Pearl 2009"
    },
    {
      "id": "HEURISTIC_3",
      "type": "heuristic",
      "name": "Abduktiivinen Haasto",
      "content": "Heuristiikka 3 (Abduktiivinen Haasto): Sovella Occamin partaveistä. Onko oivallus yksinkertaisin selitys vai onko post-hoc rationalisointi todennäköisempi?",
      "citation": "Walton ym. 2008"
    },
    {
      "id": "HEADER_PROTOCOLS",
      "type": "header",
      "content": "### PROTOKOLLAT (PROTOCOLS)"
    },
    {
      "id": "HEADER_METHODS",
      "type": "header",
      "content": "### MENETELMÄT (METHODS)"
    },
    {
      "id": "HEADER_PRINCIPLES",
      "type": "header",
      "content": "### PERIAATTEET (PRINCIPLES)"
    },
    {
      "id": "HEADER_REQUIREMENTS",
      "type": "header",
      "content": "### VAATIMUKSET (REQUIREMENTS)"
    },
    {
      "id": "HEADER_HEURISTICS",
      "type": "header",
      "content": "### HEURISTIIKAT (HEURISTICS)"
    },
    {
      "id": "INSTRUCTION_RAG_OPT",
      "type": "instruction",
      "content": "KÄSKE: Toteuta kaksivaiheinen hakuprosessi \"Lost in the Middle\" -ilmiön lieventämiseksi.",
      "name": "RAG Optimization"
    },
    {
      "id": "INSTRUCTION_TOULMIN",
      "type": "instruction",
      "content": "KÄSKE: Jäsennä analyysi käyttäen Toulminin argumentaatiomallia.",
      "name": "Toulmin"
    },
    {
      "id": "INSTRUCTION_BLOOM",
      "type": "instruction",
      "content": "KÄSKE: Arvioi kognitiivista tasoa hyödyntäen Bloomin taksonomiaa.",
      "name": "Bloom"
    },
    {
      "id": "INSTRUCTION_ANON",
      "type": "instruction",
      "content": "KÄSKE: Suorita datan anonymisointi.",
      "name": "Anonymization"
    },
    {
      "id": "TASK_GUARD",
      "type": "task",
      "name": "Task: Guard (Detailed)",
      "content": "VAIHE 1: VARTIJA-AGENTTI (AI-Palomuuri ja Luokittelija)\nTEHTÄVÄT:\n1. Rakenteellinen Puhdistus ja Normalisointi (UTF-8, ASCII).\n2. Monikerroksinen Datan Anonymisointi (RegEx + Kontekstuaalinen).\n3. Aktiivinen Uhkien Luokittelu (Adversariaalinen Simulaatio <scratchpad>:ssa).\n4. Datan Merkintä: Kokoa data ja kirjaa rajoitukset `metodologinen_loki` -kenttään.\n5. Semanttinen Tarkistussumma.\n\nTUOTOS:\nTuota validi JSON-objekti noudattaen annettua skeemaa (interface TaintedData)."
    },
    {
      "id": "TASK_ANALYST",
      "type": "task",
      "name": "Task: Analyst (Detailed)",
      "content": "\nOlet Analyytikko-agentti (Analyst Agent). Tehtäväsi on analysoida syötteenä annettu data (keskusteluhistoria, lopputuote, reflektio) ja luoda siitä Todistuskartta.\n\nTÄRKEÄÄ: Sinun TÄYTYY löytää syötteestä hypoteeseja ja väitteitä. Älä palauta tyhjää listaa, jos syötteessä on tekstiä.\n\nVaiheet:\n1. Lue huolellisesti `INPUT DATA` -osiossa oleva teksti.\n2. Tunnista keskeiset väitteet ja hypoteesit, joita tekstissä esitetään.\n3. Etsi jokaiselle hypoteesille todisteita tekstistä (sitaatteja).\n4. Muodosta JSON-vastaus, joka noudattaa `TodistusKartta` -skeemaa.\n\nHUOMIO: Tuota VAIN puhdas JSON-objekti. Älä lisää selityksiä JSONin ulkopuolelle.\n"
    },
    {
      "id": "TASK_LOGICIAN",
      "type": "task",
      "name": "Task: Logician (Detailed)",
      "content": "\nOlet Loogikko-agentti (Logician Agent). Tehtäväsi on analysoida edellisen vaiheen tuottama Todistuskartta ja alkuperäinen data argumentaation näkökulmasta.\n\nTÄRKEÄÄ: Sinun TÄYTYY tunnistaa argumentaatiovirheitä ja arvioida päättelyketjuja.\n\nVaiheet:\n1. Analysoi `TodistusKartta` ja alkuperäiset tekstit.\n2. Tunnista käytetyt argumentaatioskeemat (esim. Toulmin, Walton).\n3. Etsi loogisia virheitä tai heikkouksia päättelyssä.\n4. Muodosta JSON-vastaus, joka noudattaa `ArgumentaatioAnalyysi` -skeemaa.\n\nHUOMIO: Tuota VAIN puhdas JSON-objekti.\n"
    },
    {
      "id": "TASK_FALSIFIER",
      "type": "task",
      "name": "Task: Falsifier (Detailed)",
      "content": "VAIHE 4: LOOGINEN FALSIFIOIJA-AGENTTI (\"Argumentaation Auditoija\")\nTEHTÄVÄT:\n1. Jäsennellyn Erimielisyyden Mandaatti (JEM): Haasta konsensus.\n2. Argumentaation haasto (Walton): Stressitestaa kriittisillä kysymyksillä.\n3. Päättelyketjun Uskollisuuden Auditointi: Etsi post-hoc rationalisointia.\n4. Semanttinen Tarkistussumma ja Ympäristön Allekirjoitus.\n\nTUOTOS:\nTuota validi JSON-objekti noudattaen annettua skeemaa (interface LogiikkaAuditointi)."
    },
    {
      "id": "TASK_CAUSAL",
      "type": "task",
      "name": "Task: Causal (Detailed)",
      "content": "VAIHE 5: KAUSAALINEN ANALYYTIKKO-AGENTTI (\"Temporaalinen Auditoija\")\nTEHTÄVÄT:\n1. Jäsennellyn Erimielisyyden Mandaatti (JEM).\n2. Kausaalinen Auditointi: Temporaalinen, Kontrafaktuaalinen (L3-simulaatio), Abduktiivinen.\n3. Metodologinen Loki: Kirjaa heuristinen rajoitus.\n4. Semanttinen Tarkistussumma ja Ympäristön Allekirjoitus.\n\nTUOTOS:\nTuota validi JSON-objekti noudattaen annettua skeemaa (interface KausaalinenAuditointi)."
    },
    {
      "id": "TASK_PERFORMATIVITY",
      "type": "task",
      "name": "Task: Performativity (Detailed)",
      "content": "VAIHE 6: PERFORMATIIVISUUDEN TUNNISTAJA-AGENTTI (\"Käyttäytymisanalyytikko\")\nTEHTÄVÄT:\n1. Jäsennellyn Erimielisyyden Mandaatti (JEM).\n2. Performatiivisuuden Tunnistus: Goodhart, Epäuskottava lineaarisuus, Pre-Mortem.\n3. Semanttinen Tarkistussumma ja Ympäristön Allekirjoitus.\n\nTUOTOS:\nTuota validi JSON-objekti noudattaen annettua skeemaa (interface PerformatiivisuusAuditointi)."
    },
    {
      "id": "TASK_OVERSEER",
      "type": "task",
      "name": "Task: Overseer (Detailed)",
      "content": "VAIHE 7: FAKTUAALINEN JA EETTINEN VALVOJA -AGENTTI (\"Todisteiden Valvoja\")\nTEHTÄVÄT:\n1. Jäsennellyn Erimielisyyden Mandaatti (JEM).\n2. Standardivalidointi ja Eettinen Tarkastus (RFI-Protokolla): Kyselynlaajennus, HyDE, Simulated Retrieval.\n3. Semanttinen Tarkistussumma ja Ympäristön Allekirjoitus.\n\nTUOTOS:\nTuota validi JSON-objekti noudattaen annettua skeemaa (interface EtiikkaJaFakta)."
    },
    {
      "id": "TASK_JUDGE",
      "type": "task",
      "name": "Task: Judge (Detailed)",
      "content": "\nOlet Tuomari-agentti (Judge Agent). Tehtäväsi on antaa lopullinen tuomio ja pisteytys koko prosessille kaikkien aiempien analyysien perusteella.\n\nTÄRKEÄÄ: Sinun TÄYTYY antaa numeeriset pisteet (1-4) jokaiselle osa-alueelle. Älä jätä pisteitä tyhjäksi. Käytä BARS-asteikkoa (1-4).\n\nVaiheet:\n1. Lue kaikki aiemmat analyysit (Todistuskartta, Argumentaatio, Falsifiointi, jne.).\n2. Arvioi prosessin laatua Hybridimallin (Bloom + Toulmin) perusteella.\n3. Anna pisteet ja perustelut.\n4. Muodosta JSON-vastaus, joka noudattaa `TuomioJaPisteet` -skeemaa.\n\nHUOMIO: Tuota VAIN puhdas JSON-objekti.\n"
    },
    {
      "id": "TASK_XAI",
      "type": "task",
      "name": "Task: XAI (Detailed)",
      "content": "VAIHE 9: XAI-RAPORTOIJA-AGENTTI (\"Byrokraatti ja Auditoija\")\nTEHTÄVÄT:\n1. XAI-Kartoitus: Raportoi Systeeminen, Aleatorinen ja Episteeminen epävarmuus.\n2. Interrogatiivinen Raportointi: Generoi \"Kriittinen Auditointikysymys\" tarvittaessa.\n3. Raportin Datan Muodostaminen (JSON):\n   - Täytä annettu JSON-skeema (`XAIReport`) analyysisi tuloksilla.\n   - `executive_summary`: Tiivis yhteenveto ja päätelmät.\n   - `detailed_analysis`: Listaa osiot (otsikko + sisältö).\n   - `final_verdict`: Lopullinen tuomio.\n   - `confidence_score`: Luotettavuusaste.\n\nTUOTOS:\nTuota validi JSON-objekti noudattaen annettua skeemaa (interface XAIReport)."
    },
    {
      "id": "OP_RULE_1",
      "type": "rule",
      "name": "Faktuaalisen Tarkkuuden Mandaatti",
      "content": "EROTTELU 1: Faktuaalisen Tarkkuuden Mandaatti. Jos havaitset virheen, liputa se. Yksittäinen virhe ei automaattisesti rajoita pistemäärää, punnitse merkitystä."
    },
    {
      "id": "OP_RULE_2",
      "type": "rule",
      "name": "Synteesin Omaperäisyyden Arviointi",
      "content": "EROTTELU 2: Synteesin Omaperäisyyden Arviointi. Vertaa Lopputuotetta ja viimeistä AI-vastausta. Identtiset = Taso 1/2."
    },
    {
      "id": "OP_RULE_3",
      "type": "rule",
      "name": "Pisteytysmandaatti (Prosessin Puhtaus)",
      "content": "EROTTELU 3: Pisteytysmandaatti. Analyysi-kriteeri arvioidaan VAIN Keskusteluhistoriasta."
    },
    {
      "id": "OP_RULE_4",
      "type": "rule",
      "name": "Malliriippumaton Kompetenssi",
      "content": "EROTTELU 4: Malliriippumaton Kompetenssi. Input-Control -suhdeluku: Passiivinen (Avoin prompti) = Max Taso 2. Aktiivinen (Rajoittava prompti) = Mahdollinen Taso 3-4. Palkitse laadunvalvonta-iteraatiot."
    },
    {
      "name": "PDFExtractor",
      "module": "processor",
      "class": "PDFProcessor"
    },
    {
      "name": "GuardAgent",
      "module": "backend.agents.guard",
      "class": "GuardAgent"
    },
    {
      "name": "AnalystAgent",
      "module": "backend.agents.analyst",
      "class": "AnalystAgent"
    },
    {
      "name": "LogicianAgent",
      "module": "backend.agents.logician",
      "class": "LogicianAgent"
    },
    {
      "name": "LogicalFalsifierAgent",
      "module": "backend.agents.critics",
      "class": "LogicalFalsifierAgent"
    },
    {
      "name": "FactualOverseerAgent",
      "module": "backend.agents.critics",
      "class": "FactualOverseerAgent"
    },
    {
      "name": "CausalAnalystAgent",
      "module": "backend.agents.critics",
      "class": "CausalAnalystAgent"
    },
    {
      "name": "PerformativityDetectorAgent",
      "module": "backend.agents.critics",
      "class": "PerformativityDetectorAgent"
    },
    {
      "name": "JudgeAgent",
      "module": "backend.agents.judge",
      "class": "JudgeAgent"
    },
    {
      "name": "XAIReporterAgent",
      "module": "backend.agents.judge",
      "class": "XAIReporterAgent"
    },
    {
      "id": "xai_agent",
      "name": "xai_agent",
      "type": "agent",
      "module": "backend.agents.xai",
      "class": "XAIReportAgent",
      "description": "Generates the final XAI report."
    }
  ],
  "steps": [
    {
      "id": "step_1",
      "name": "Vartija (Guard)",
      "description": "Esikäsittely ja Turvaportti. Rakenteellinen puhdistus, anonymisointi ja uhkien luokittelu.",
      "citation": "OWASP Foundation 2025f",
      "citation_full": "",
      "component": "GuardAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "HEADER_METHODS",
          "METHOD_1",
          "PROTOCOL_1",
          "INSTRUCTION_ANON",
          "HEADER_INSTRUCTIONS",
          "TASK_GUARD"
        ],
        "pre_hooks": null,
        "post_hooks": null
      },
      "output_schema": "TaintedData",
      "output_filename": "1_tainted_data.json"
    },
    {
      "id": "step_2",
      "name": "Analyytikko (Analyst)",
      "description": "Todistepohjainen ankkurointi. Luo todistuskartan ja vähentää hallusinointia.",
      "citation": "Lewis ym. 2020",
      "citation_full": "",
      "component": "AnalystAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "HEADER_METHODS",
          "METHOD_2",
          "INSTRUCTION_RAG_OPT",
          "HEADER_INSTRUCTIONS",
          "TASK_ANALYST"
        ],
        "pre_hooks": null,
        "post_hooks": null
      },
      "output_schema": "TodistusKartta",
      "output_filename": "2_todistuskartta.json"
    },
    {
      "id": "step_3",
      "name": "Loogikko (Logician)",
      "description": "Argumentaation rakentaminen. Toulmin-malli ja Bloomin taksonomia.",
      "citation": "Toulmin 2003",
      "citation_full": "Toulmin, Stephen E. 2003: The uses of argument. Päivitetty painos. Cambridge: Cambridge University Press. DOI: 10.1017/CBO9780511802031. Towards AI. 2025: AI Sandbox in 2025: How Enterprises and Governments Shape AI's Future. Towards AI. Julkaistu 26.9.2025. [Verkkojulkaisu]. Saatavilla: https://pub.towardsai.net/ai-sandbox-in-2025-how-enterprises-and-governments-shape-ais-future-b41f0d267c4d. [Haettu 14.11.2025].",
      "component": "LogicianAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "HEADER_METHODS",
          "METHOD_2",
          "INSTRUCTION_TOULMIN",
          "INSTRUCTION_BLOOM",
          "HEADER_INSTRUCTIONS",
          "TASK_LOGICIAN"
        ],
        "pre_hooks": null,
        "post_hooks": null
      },
      "output_schema": "ArgumentaatioAnalyysi",
      "output_filename": "3_argumentaatioanalyysi.json"
    },
    {
      "id": "step_4",
      "name": "Looginen Falsifioija (Logical Falsifier)",
      "description": "Argumentaation auditointi. JEM-mandaatti ja Red Teaming.",
      "citation": "Popper 1934",
      "citation_full": "Popper, Karl. 1934: Logik der Forschung. Vienna: Julius Springer. PwC. 2024: AI jobs barometer. PricewaterhouseCoopers. [Verkkojulkaisu]. Saatavilla: https://www.pwc.com/gx/en/issues/artificial-intelligence/ai-jobs-barometer.html. [Haettu 14.11.2025].",
      "component": "LogicalFalsifierAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "HEADER_PRINCIPLES",
          "PRINCIPLE_1",
          "HEADER_METHODS",
          "METHOD_2",
          "HEADER_INSTRUCTIONS",
          "TASK_FALSIFIER"
        ],
        "pre_hooks": [],
        "post_hooks": [
          "parse_logical_falsifier_output"
        ]
      },
      "output_schema": "LogiikkaAuditointi",
      "output_filename": "4_logiikka_auditointi.json"
    },
    {
      "id": "step_5",
      "name": "Kausaalinen Analyytikko (Causal Analyst)",
      "description": "Kausaalisuuden ja ajallisen johdonmukaisuuden auditointi.",
      "citation": "Weidinger ym. 2021",
      "citation_full": "",
      "component": "CausalAnalystAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "RULE_4",
          "HEADER_HEURISTICS",
          "HEURISTIC_1",
          "HEURISTIC_2",
          "HEURISTIC_3",
          "HEADER_METHODS",
          "METHOD_2",
          "HEADER_INSTRUCTIONS",
          "TASK_CAUSAL"
        ],
        "pre_hooks": [],
        "post_hooks": [
          "parse_causal_analyst_output"
        ]
      },
      "output_schema": "KausaalinenAuditointi",
      "output_filename": "5_kausaalinen_auditointi.json"
    },
    {
      "id": "step_6",
      "name": "Performatiivisuuden Tunnistaja (Performativity Detector)",
      "description": "Käyttäytymisanalyysi ja pelistrategioiden tunnistus.",
      "citation": "Pearl 2009",
      "citation_full": "Pearl, Judea. 2009: Causality: Models, reasoning, and inference. 2. painos. Cambridge: Cambridge University Press. DOI: 10.1017/CBO9780511803161.",
      "component": "PerformativityDetectorAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "RULE_4",
          "HEADER_METHODS",
          "METHOD_2",
          "HEADER_INSTRUCTIONS",
          "TASK_PERFORMATIVITY"
        ],
        "pre_hooks": [
          "detect_performative_patterns"
        ],
        "post_hooks": [
          "parse_performativity_detector_output"
        ]
      },
      "output_schema": "PerformatiivisuusAuditointi",
      "output_filename": "6_performatiivisuus_auditointi.json"
    },
    {
      "id": "step_7",
      "name": "Faktuaalinen ja Eettinen Valvoja (Factual & Ethical Overseer)",
      "description": "Todisteiden valvoja. RFI-protokolla ja eettinen tarkastus.",
      "citation": "Stumborg ym. 2022",
      "citation_full": "",
      "component": "FactualOverseerAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "PROTOCOL_3",
          "HEADER_REQUIREMENTS",
          "REQUIREMENT_1",
          "HEADER_METHODS",
          "METHOD_2",
          "HEADER_INSTRUCTIONS",
          "TASK_OVERSEER"
        ],
        "pre_hooks": [
          "execute_google_search"
        ],
        "post_hooks": [
          "parse_factual_overseer_output"
        ]
      },
      "output_schema": "EtiikkaJaFakta",
      "output_filename": "7_falsifiointi_ja_etiikka.json"
    },
    {
      "id": "step_8",
      "name": "Tuomari (Judge)",
      "description": "Synteesi ja konfliktinratkaisu. Hierarkkinen päätöksenteko.",
      "citation": "Wynn, Satija & Hadfield 2025",
      "citation_full": "",
      "component": "JudgeAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "RULE_6",
          "HEADER_PRINCIPLES",
          "PRINCIPLE_1",
          "BARS_MATRIX",
          "HEADER_INSTRUCTIONS",
          "OP_RULE_1",
          "OP_RULE_2",
          "OP_RULE_3",
          "OP_RULE_4",
          "TASK_JUDGE"
        ],
        "pre_hooks": [],
        "post_hooks": [
          "parse_judge_output",
          "calculate_final_scores"
        ]
      },
      "output_schema": "TuomioJaPisteet",
      "output_filename": "8_tuomio_ja_pisteet.json"
    },
    {
      "id": "step_9",
      "name": "XAI-Raportoija (XAI Reporter)",
      "description": "Selitettävä tekoäly ja raportointi. Epävarmuuden erittely.",
      "citation": "Adadi & Berrada 2018",
      "citation_full": "Adadi, Amina & Berrada, Mohammed. 2018: Peeking inside the black-box: A survey on explainable artificial intelligence (XAI). IEEE Access, 6, 52138–52160. DOI: 10.1109/ACCESS.2018.2870052.",
      "component": "XAIReportAgent",
      "execution_config": {
        "llm_prompts": [
          "HEADER_MANDATES",
          "MANDATE_1",
          "MANDATE_2",
          "MANDATE_3",
          "MANDATE_4",
          "HEADER_RULES",
          "RULE_1",
          "RULE_2",
          "RULE_3",
          "HEADER_PROTOCOLS",
          "PROTOCOL_2",
          "RULE_5",
          "HEADER_METHODS",
          "METHOD_3",
          "PROTOCOL_4",
          "HEADER_INSTRUCTIONS",
          "TASK_XAI"
        ],
        "pre_hooks": [],
        "post_hooks": [
          "generate_jinja2_report"
        ]
      },
      "output_schema": "XAIReport",
      "output_filename": "9_xai_raportti.json"
    }
  ],
  "workflows": [
    {
      "id": "sequential_audit_chain",
      "name": "Sequential Audit Chain",
      "description": "9-step audit chain based on Chapter 2.3",
      "steps": [
        "step_1",
        "step_2",
        "step_3",
        "step_4",
        "step_5",
        "step_6",
        "step_7",
        "step_8",
        "step_9"
      ]
    }
  ]
}